import{P as f}from"./PaginationComponent-6bc0074a.js";import{_ as y,a as C,r as l,o as d,c as _,d as e,e as u,w as p,B as c,F as g,y as P,z as b,t as n,p as x,g as L}from"./index-79cbc443.js";import{_ as k,a as $}from"./logo_flower-86cc868b.js";const V="/bloom_every_day/assets/products_banner-febc812a.jpg";const{VITE_URL:w,VITE_PATH:E}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},I={data(){return{products:[],page:{},currentCategory:"all",isLoading:!1,fullPage:!0}},components:{RouterLink:C,Pagination:f},methods:{getProducts(o=1){this.isLoading=!0;const t=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$http.get(`${w}v2/api/${E}/products/?page=${o}&${t}`).then(r=>{this.products=r.data.products,this.page=r.data.pagination,this.isLoading=!1,this.$router.push({query:{page:this.page.current_page,category:this.currentCategory}})}).catch(r=>{console.log(r)})},filterCategory(o){this.currentCategory=o,this.getProducts()}},mounted(){this.getProducts();const o=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$router.push({query:{page:1,category:o}})}},R=o=>(x("data-v-efcec551"),o=o(),L(),o),S={class:"products_wrapper"},T=b('<div class="products_banner" data-v-efcec551><div class="products_banner_position" data-v-efcec551><div class="img_group" data-v-efcec551><img src="'+V+'" alt="" data-v-efcec551><div class="img_cover" data-v-efcec551></div></div><div class="banner_text" data-v-efcec551><h2 class="text-primary banner_h2_pc" data-v-efcec551>走進有花的日子裡</h2><h3 class="text-primary banner_h3_mobile" data-v-efcec551>走進有花的日子裡</h3></div></div></div>',1),B=R(()=>e("div",{class:"loading_brand"},[e("img",{src:k,alt:""}),e("div",{class:"loading_flower"},[e("img",{src:$,alt:""})])],-1)),N={class:"container"},U={class:"products_menu"},D={class:"products_menu_list"},A={class:"products_group"},q={class:"row mx-auto"},F={class:"products_card_head"},H={class:"head_img"},M=["src"],O={class:"products_card_body"},j={class:"product_title"},z={class:"badge_group"},G={class:"badge_item text-primary"},J={class:"price_group"},K={class:"product_origin_price"},Q={class:"product_price text-primary"};function W(o,t,r,X,i,a){const v=l("vue-loading"),h=l("RouterLink"),m=l("Pagination");return d(),_(g,null,[e("div",S,[T,u(v,{active:i.isLoading,"onUpdate:active":t[0]||(t[0]=s=>i.isLoading=s),"is-full-page":i.fullPage,opacity:1},{default:p(()=>[B]),_:1},8,["active","is-full-page"]),e("div",N,[e("div",U,[e("ul",D,[e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[1]||(t[1]=c(s=>a.filterCategory("all"),["prevent"]))},"所有商品")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[2]||(t[2]=c(s=>a.filterCategory("小型花束"),["prevent"]))},"小型花束")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[3]||(t[3]=c(s=>a.filterCategory("季節花束"),["prevent"]))},"季節花束")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[4]||(t[4]=c(s=>a.filterCategory("經典花束"),["prevent"]))},"經典花束")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[5]||(t[5]=c(s=>a.filterCategory("好日特選"),["prevent"]))},"好日特選")])])]),e("div",A,[e("div",q,[(d(!0),_(g,null,P(i.products,s=>(d(),_("div",{class:"col-md-6 col-lg-4",key:s.id},[u(h,{to:`/products/${s.id}`,class:"products_card"},{default:p(()=>[e("div",F,[e("div",H,[e("img",{class:"img_hover",src:s.imageUrl,alt:""},null,8,M)])]),e("div",O,[e("h5",j,n(s.title),1),e("div",z,[e("h6",G,n(s.category),1)]),e("div",J,[e("h6",K,"NT $"+n(s.origin_price),1),e("h6",Q,"NT $"+n(s.price),1)])])]),_:2},1032,["to"])]))),128))])])])]),u(m,{pages:i.page,onChangePage:a.getProducts},null,8,["pages","onChangePage"])],64)}const te=y(I,[["render",W],["__scopeId","data-v-efcec551"]]);export{te as default};
