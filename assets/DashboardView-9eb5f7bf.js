import{b as T}from"./bootstrap.bundle.min-b7b3b5d2.js";import{_ as u,a as w,r,o as p,c as v,d as t,e as s,w as i,f as l,p as m,g,R as x}from"./index-51853419.js";import{_ as y}from"./Logo-0dea7fd1.js";import{S as _}from"./sweetalert2.all-39a63799.js";import{s as L}from"./setAuthFactory-2f9bf77f.js";import{_ as V,a as $}from"./logo_flower-86cc868b.js";const R={data(){return{}},components:{RouterLink:w},methods:{navToggle(){this.navContent.toggle()},closeToggle(){this.navContent.hide()},logout(){document.cookie=`loginToken=; expires=${new Date};`}},mounted(){this.navContent=new T.Collapse(this.$refs.navContent)}},h=e=>(m("data-v-3256fded"),e=e(),g(),e),I={class:"navbar navbar-expand-lg navbar-light"},N={class:"container-fluid d-flex"},S=h(()=>t("a",{class:"navbar-brand",href:"#"},[t("img",{src:y,alt:""})],-1)),A=h(()=>t("span",{class:"navbar-toggler-icon"},null,-1)),D=[A],E={class:"collapse navbar-collapse justify-content-end",id:"navbarNav",ref:"navContent"},B={class:"navbar-nav text-center"},F={class:"nav-item"},P={class:"nav-item"},U={class:"nav-item"},H={class:"nav-item"};function O(e,n,f,b,c,o){const a=r("RouterLink");return p(),v("nav",I,[t("div",N,[S,t("button",{class:"navbar-toggler",type:"button",onClick:n[0]||(n[0]=(...d)=>o.navToggle&&o.navToggle(...d)),"aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},D),t("div",E,[t("ul",B,[t("li",F,[s(a,{to:"/admin/articles",class:"nav-link","aria-current":"page",onClick:o.closeToggle},{default:i(()=>[l("文章")]),_:1},8,["onClick"])]),t("li",P,[s(a,{to:"/admin/products",class:"nav-link",onClick:o.closeToggle},{default:i(()=>[l("商品")]),_:1},8,["onClick"])]),t("li",U,[s(a,{to:"/admin/orders",class:"nav-link",onClick:o.closeToggle},{default:i(()=>[l("訂單")]),_:1},8,["onClick"])]),t("li",H,[s(a,{to:"/",class:"nav-link",onClick:o.logout},{default:i(()=>[l("登出")]),_:1},8,["onClick"])])])],512)])])}const j=u(R,[["render",O],["__scopeId","data-v-3256fded"]]);const{VITE_URL:M,VITE_PATH:ot}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},q={data(){return{isLoading:!1,fullPage:!0}},components:{AdminNav:j,RouterView:x},methods:{checkLogin(){this.$http.post(`${M}v2/api/user/check`).then(e=>{_.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:'<h6 class="mb-0" style="color:#FF3D33; text-align:center;">登入成功，管理員你好！</h6>'})}).catch(e=>{this.isLoading=!0,setTimeout(()=>{_.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:'<h6 class="mb-0" style="color:white; text-align:center;">驗證錯誤，請重新登入！</h6>',background:"#FF3D33"}),this.isLoading=!1,this.$router.push("/login")},2e3)})}},mounted(){L(this.$http,this.$router),this.checkLogin()}},z=e=>(m("data-v-1077b3fc"),e=e(),g(),e),G={class:"admin_layout"},J={id:"admin_header",class:"container"},K=z(()=>t("div",{class:"loading_brand"},[t("img",{src:V,alt:""}),t("div",{class:"loading_flower"},[t("img",{src:$,alt:""})])],-1));function Q(e,n,f,b,c,o){const a=r("AdminNav"),d=r("RouterView"),k=r("vue-loading");return p(),v("div",G,[t("div",J,[s(a)]),t("div",null,[s(d)]),s(k,{active:c.isLoading,"onUpdate:active":n[0]||(n[0]=C=>c.isLoading=C),"is-full-page":c.fullPage,opacity:1},{default:i(()=>[K]),_:1},8,["active","is-full-page"])])}const st=u(q,[["render",Q],["__scopeId","data-v-1077b3fc"]]);export{st as default};
