import{P as f}from"./PaginationComponent-63aa7162.js";import{_ as y,a as C,r as l,o as _,c as d,d as t,e as u,w as g,B as n,F as p,y as P,z as b,t as c}from"./index-883600e5.js";import{_ as x,a as L}from"./logo_flower-86cc868b.js";const k="/bloom_every_day/assets/products_banner-febc812a.jpg";const{VITE_URL:$,VITE_PATH:V}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},w={data(){return{products:[],page:{},currentCategory:"all",isLoading:!1,fullPage:!0}},components:{RouterLink:C,Pagination:f},methods:{getProducts(o=1){this.isLoading=!0;const s=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$http.get(`${$}v2/api/${V}/products/?page=${o}&${s}`).then(i=>{this.products=i.data.products,this.page=i.data.pagination,this.isLoading=!1,this.$router.push({query:{page:this.page.current_page,category:this.currentCategory}})}).catch(i=>{console.log(i)})},filterCategory(o){this.currentCategory=o,this.getProducts()}},mounted(){this.getProducts();const o=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$router.push({query:{page:1,category:o}})}},E={class:"products_wrapper"},R=b('<div class="products_banner"><div class="products_banner_position"><div class="img_group"><img src="'+k+'" alt=""><div class="img_cover"></div></div><div class="banner_text"><h2 class="text-primary banner_h2_pc">走進有花的日子裡</h2><h3 class="text-primary banner_h3_mobile">走進有花的日子裡</h3></div></div></div>',1),T=t("div",{class:"loading_brand"},[t("img",{src:x,alt:""}),t("div",{class:"loading_flower"},[t("img",{src:L,alt:""})])],-1),B={class:"container"},N={class:"products_menu"},S={class:"products_menu_list"},U={class:"products_group"},D={class:"row mx-auto"},I={class:"products_card_head"},A={class:"head_img"},q=["src"],F={class:"products_card_body"},H={class:"product_title"},M={class:"badge_group"},O={class:"badge_item text-primary"},j={class:"price_group"},z={class:"product_origin_price"},G={class:"product_price text-primary"};function J(o,s,i,K,a,r){const h=l("vue-loading"),m=l("RouterLink"),v=l("Pagination");return _(),d(p,null,[t("div",E,[R,u(h,{active:a.isLoading,"onUpdate:active":s[0]||(s[0]=e=>a.isLoading=e),"is-full-page":a.fullPage,opacity:1},{default:g(()=>[T]),_:1},8,["active","is-full-page"]),t("div",B,[t("div",N,[t("ul",S,[t("li",null,[t("a",{href:"",class:"products_menu_item fs-6",onClick:s[1]||(s[1]=n(e=>r.filterCategory("all"),["prevent"]))},"所有商品")]),t("li",null,[t("a",{href:"",class:"products_menu_item fs-6",onClick:s[2]||(s[2]=n(e=>r.filterCategory("小型花束"),["prevent"]))},"小型花束")]),t("li",null,[t("a",{href:"",class:"products_menu_item fs-6",onClick:s[3]||(s[3]=n(e=>r.filterCategory("季節花束"),["prevent"]))},"季節花束")]),t("li",null,[t("a",{href:"",class:"products_menu_item fs-6",onClick:s[4]||(s[4]=n(e=>r.filterCategory("經典花束"),["prevent"]))},"經典花束")]),t("li",null,[t("a",{href:"",class:"products_menu_item fs-6",onClick:s[5]||(s[5]=n(e=>r.filterCategory("好日特選"),["prevent"]))},"好日特選")])])]),t("div",U,[t("div",D,[(_(!0),d(p,null,P(a.products,e=>(_(),d("div",{class:"col-md-6 col-lg-4",key:e.id},[u(m,{to:`/products/${e.id}`,class:"products_card"},{default:g(()=>[t("div",I,[t("div",A,[t("img",{class:"img_hover",src:e.imageUrl,alt:""},null,8,q)])]),t("div",F,[t("h5",H,c(e.title),1),t("div",M,[t("h6",O,c(e.category),1)]),t("div",j,[t("h6",z,"NT $"+c(e.origin_price),1),t("h6",G,"NT $"+c(e.price),1)])])]),_:2},1032,["to"])]))),128))])])])]),u(v,{pages:a.page,onChangePage:r.getProducts},null,8,["pages","onChangePage"])],64)}const Y=y(w,[["render",J]]);export{Y as default};
