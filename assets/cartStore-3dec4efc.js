import{D as r,E as e}from"./index-665a691a.js";const{VITE_URL:c,VITE_PATH:s}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=r("cart",{state:()=>({carts:{},final_total:0}),actions:{addToCart(t,a=1){const o={product_id:t,qty:a};e.post(`${c}v2/api/${s}/cart`,{data:o}).then(l=>{console.log("加入購物車",l.data),this.getCarts()}).catch(l=>{console.log(l)})},getCarts(){e.get(`${c}v2/api/${s}/cart`).then(t=>{console.log("當前購物車中品項",t.data.data),this.carts=t.data.data.carts,this.final_total=t.data.data.final_total}).catch(t=>{console.log(t)})},updateCartItem(t){console.log("item 數量",t.qty);const a={product_id:t.product.id,qty:t.qty};e.put(`${c}/v2/api/${s}/cart/${t.id}`,{data:a}).then(o=>{console.log("更新購物車",o.data),this.getCarts()}).catch(o=>{console.log(o)})},deleteCartItem(t){e.delete(`${c}/v2/api/${s}/cart/${t.id}`).then(a=>{console.log("刪除購物車品項",a),this.getCarts()}).catch(a=>{console.log(a)})}},getters:{}});export{n as c};
