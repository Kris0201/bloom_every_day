import{b as m}from"./bootstrap.bundle.min-38f4e92b.js";import{s as p}from"./setAuthFactory-b94eb464.js";import"./sweetalert2.all-dd2a19be.js";import{_,r as u,o as e,c as l,e as h,d as t,F as r,y as f,z as v,t as i,p as y,g,f as c}from"./index-688197f2.js";const{VITE_URL:x,VITE_PATH:L}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},k={data(){return{products:[],isLoading:!1,fullPage:!0}},methods:{getProducts(){this.isLoading=!0,this.$http.get(`${x}v2/api/${L}/admin/products`).then(a=>{console.log(a.data),this.products=a.data.products,this.isLoading=!1})}},mounted(){p(this.$http,this.$router),this.productModal=new m.Modal(this.$refs.productModal),console.log("prod"),this.getProducts()}},s=a=>(y("data-v-41b66b28"),a=a(),g(),a),M={class:"product container"},w=s(()=>t("h5",{class:"admin_title_h5"},"商品管理頁面",-1)),I=s(()=>t("div",{class:"text-end my-4"},[t("button",{class:"btn btn-primary text-white add_btn"},"新增商品")],-1)),P={class:"row mx-auto"},V={class:"col-sm-12 p-0"},E={class:"table product_table"},S=s(()=>t("tr",null,[t("th",{class:"col-2"},"分類"),t("th",{class:"col-2"},"產品名稱"),t("th",{class:"col-2"},"原價"),t("th",{class:"col-2"},"售價"),t("th",{class:"col-2"},"是否啟用"),t("th",{class:"col-2"},"編輯")],-1)),T={"data-th":"分類"},A={"data-th":"產品名稱"},$={"data-th":"原價"},F={"data-th":"售價"},R={"data-th":"是否啟用"},B={key:0},D={key:1},N=s(()=>t("td",{class:"btn_td","data-th":"編輯"},[t("div",null,[t("button",{class:"btn btn_edit btn-outline-neutral me-3",type:"button"},"編輯"),t("button",{class:"btn btn_delete btn-outline-primary",type:"button"},"刪除")])],-1)),U={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"productModal"},C={class:"modal-dialog modal-xl",role:"document"},H={class:"modal-content border-0"},O=s(()=>t("div",{class:"modal-header bg-dark text-white"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},[t("span",null,"新增商品"),t("span",null,"編輯商品")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),z={class:"modal-body"},j={class:"row"},q={class:"col-sm-4"},G=s(()=>t("div",{class:"mb-3"},[t("label",{for:"image",class:"form-label"},"輸入圖片網址"),t("input",{type:"text",class:"form-control",id:"image",placeholder:"請輸入圖片連結"})],-1)),J={class:"mb-3"},K=s(()=>t("label",{for:"customFile",class:"form-label"},[c("或 上傳圖片 "),t("i",{class:"fas fa-spinner fa-spin"})],-1)),Q={type:"file",id:"customFile",class:"form-control",ref:"fileInput"},W=v('<img class="img-fluid" src="" data-v-41b66b28><div class="mt-5" data-v-41b66b28><div class="mb-3" data-v-41b66b28><input type="url" class="form-control form-control" placeholder="請輸入連結" data-v-41b66b28><div data-v-41b66b28><img class="img-fluid" src="" data-v-41b66b28></div><button type="button" class="btn btn-outline-danger" data-v-41b66b28>移除</button></div><div data-v-41b66b28><button class="btn btn-outline-primary btn-sm d-block w-100" data-v-41b66b28>新增圖片</button></div></div>',2),X=s(()=>t("div",{class:"col-sm-8"},[t("div",{class:"mb-3"},[t("label",{for:"title",class:"form-label"},"標題"),t("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題"})]),t("div",{class:"row gx-2"},[t("div",{class:"mb-3 col-md-6"},[t("label",{for:"category",class:"form-label"},"分類"),t("input",{type:"text",class:"form-control",id:"category",placeholder:"請輸入分類"})]),t("div",{class:"mb-3 col-md-6"},[t("label",{for:"price",class:"form-label"},"單位"),t("input",{type:"text",class:"form-control",id:"unit",placeholder:"請輸入單位"})])]),t("div",{class:"row gx-2"},[t("div",{class:"mb-3 col-md-6"},[t("label",{for:"origin_price",class:"form-label"},"原價"),t("input",{type:"number",class:"form-control",id:"origin_price",min:"0",placeholder:"請輸入原價"})]),t("div",{class:"mb-3 col-md-6"},[t("label",{for:"price",class:"form-label"},"售價"),t("input",{type:"number",class:"form-control",id:"price",min:"0",placeholder:"請輸入售價"})])]),t("hr"),t("div",{class:"mb-3"},[t("label",{for:"description",class:"form-label"},"商品描述"),t("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入商品描述"})]),t("div",{class:"mb-3"},[t("label",{for:"content",class:"form-label"},"說明內容"),t("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入商品說明內容"})]),t("div",{class:"mb-3"},[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"}),t("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ")])])],-1)),Y=s(()=>t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 "),t("button",{type:"button",class:"btn btn-primary"},"確認")],-1)),Z={class:"modal fade",id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"deleteModal"},tt=s(()=>t("div",{class:"modal-dialog",role:"document"},[t("div",{class:"modal-content border-0"},[t("div",{class:"modal-header bg-primary text-white"},[t("h5",{class:"modal-title"},[t("span",null,"刪除 ")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),t("div",{class:"modal-body"},[c(" 是否刪除 這項商品？"),t("strong",{class:"text-danger"}),c(" (刪除後將無法恢復)。 ")]),t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn_cancel btn-outline-neutral","data-bs-dismiss":"modal"}," 取消 "),t("button",{type:"button",class:"btn btn-danger"},"確認刪除")])])],-1)),st=[tt];function ot(a,n,at,et,d,lt){const b=u("vue-loading");return e(),l(r,null,[h(b,{active:d.isLoading,"onUpdate:active":n[0]||(n[0]=o=>d.isLoading=o),"is-full-page":d.fullPage,opacity:1},null,8,["active","is-full-page"]),t("div",M,[w,I,t("div",P,[t("div",V,[t("table",E,[S,(e(!0),l(r,null,f(d.products,o=>(e(),l("tr",{key:o.id},[t("td",T,i(o.category),1),t("td",A,i(o.title),1),t("td",$,i(o.origin_price),1),t("td",F,i(o.price),1),t("td",R,[o.is_enabled===1?(e(),l("span",B,"已啟用")):(e(),l("span",D,"未啟用"))]),N]))),128))])])]),t("div",U,[t("div",C,[t("div",H,[O,t("div",z,[t("div",j,[t("div",q,[G,t("div",J,[K,t("input",Q,null,512)]),W]),X])]),Y])])],512),t("div",Z,st,512)])],64)}const rt=_(k,[["render",ot],["__scopeId","data-v-41b66b28"]]);export{rt as default};
