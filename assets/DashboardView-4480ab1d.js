import{b as T}from"./bootstrap.bundle.min-362e103b.js";import{_ as u,a as w,r as l,o as p,c as v,d as e,e as a,w as i,f as c,p as m,g,R as $}from"./index-e75ebf5a.js";import{_ as x}from"./Logo-0dea7fd1.js";import{S as _}from"./sweetalert2.all-54b7b491.js";import{_ as L,a as V}from"./logo_flower-86cc868b.js";const y={data(){return{}},components:{RouterLink:w},methods:{navToggle(){this.navContent.toggle()},closeToggle(){this.navContent.hide()},logout(){document.cookie=`loginToken=; expires=${new Date};`}},mounted(){this.navContent=new T.Collapse(this.$refs.navContent)}},h=t=>(m("data-v-3256fded"),t=t(),g(),t),R={class:"navbar navbar-expand-lg navbar-light"},I={class:"container-fluid d-flex"},N=h(()=>e("a",{class:"navbar-brand",href:"#"},[e("img",{src:x,alt:""})],-1)),S=h(()=>e("span",{class:"navbar-toggler-icon"},null,-1)),A=[S],D={class:"collapse navbar-collapse justify-content-end",id:"navbarNav",ref:"navContent"},E={class:"navbar-nav text-center"},B={class:"nav-item"},F={class:"nav-item"},P={class:"nav-item"},U={class:"nav-item"};function H(t,n,f,b,r,o){const s=l("RouterLink");return p(),v("nav",R,[e("div",I,[N,e("button",{class:"navbar-toggler",type:"button",onClick:n[0]||(n[0]=(...d)=>o.navToggle&&o.navToggle(...d)),"aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},A),e("div",D,[e("ul",E,[e("li",B,[a(s,{to:"/admin/articles",class:"nav-link","aria-current":"page",onClick:o.closeToggle},{default:i(()=>[c("文章")]),_:1},8,["onClick"])]),e("li",F,[a(s,{to:"/admin/products",class:"nav-link",onClick:o.closeToggle},{default:i(()=>[c("商品")]),_:1},8,["onClick"])]),e("li",P,[a(s,{to:"/admin/orders",class:"nav-link",onClick:o.closeToggle},{default:i(()=>[c("訂單")]),_:1},8,["onClick"])]),e("li",U,[a(s,{to:"/",class:"nav-link",onClick:o.logout},{default:i(()=>[c("登出")]),_:1},8,["onClick"])])])],512)])])}const O=u(y,[["render",H],["__scopeId","data-v-3256fded"]]);const{VITE_URL:j,VITE_PATH:ee}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},z={data(){return{isLoading:!1}},components:{AdminNav:O,RouterView:$},methods:{checkLogin(){this.$http.post(`${j}v2/api/user/check`).then(t=>{_.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:'<h6 class="mb-0" style="color:#FF3D33; text-align:center;">登入成功，管理員你好！</h6>'})}).catch(t=>{this.isLoading=!0,setTimeout(()=>{_.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:'<h6 class="mb-0" style="color:white; text-align:center;">驗證錯誤，請重新登入！</h6>',background:"#FF3D33"}),this.isLoading=!1,this.$router.push("/login")},2e3)})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.checkLogin()}},M=t=>(m("data-v-ac150b77"),t=t(),g(),t),q={class:"admin_layout"},G={id:"admin_header",class:"container"},J=M(()=>e("div",{class:"loading_brand"},[e("img",{src:L,alt:""}),e("div",{class:"loading_flower"},[e("img",{src:V,alt:""})])],-1));function K(t,n,f,b,r,o){const s=l("AdminNav"),d=l("RouterView"),k=l("vue-loading");return p(),v("div",q,[e("div",G,[a(s)]),e("div",null,[a(d)]),a(k,{active:r.isLoading,"onUpdate:active":n[0]||(n[0]=C=>r.isLoading=C),"is-full-page":t.fullPage,opacity:1},{default:i(()=>[J]),_:1},8,["active","is-full-page"])])}const te=u(z,[["render",K],["__scopeId","data-v-ac150b77"]]);export{te as default};
