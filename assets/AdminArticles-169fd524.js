import{b}from"./bootstrap.bundle.min-e8962393.js";import{_ as h,o,c as l,d as t,F as v,y as m,z as p,t as c,p as f,g as u}from"./index-bfb67b23.js";const{VITE_URL:y,VITE_PATH:x}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g={data(){return{articles:[]}},methods:{getArticles(){this.$http.get(`${y}v2/api/${x}/admin/articles`).then(a=>{this.articles=a.data.articles,this.articles=a.data.articles.map(e=>{const r=e.create_at,n=new Date(r*1e3).toLocaleDateString();return{...e,dateString:n}})}).catch(a=>{console.log(a)})},openModal(){this.articleModal.show()},closeModal(){this.articleModal.hide()}},mounted(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a,this.articleModal=new b.Modal(this.$refs.articleModal),this.getArticles()}},i=a=>(f("data-v-67f10a72"),a=a(),u(),a),M={class:"articles container"},k=i(()=>t("h5",{class:"admin_title_h5"},"文章管理頁面",-1)),S={class:"text-end my-4"},A={class:"row mx-auto"},E={class:"col-sm-12 p-0"},I={class:"table article_table"},w=i(()=>t("tr",null,[t("th",{class:"col-3"},"標題"),t("th",{class:"col-2"},"作者"),t("th",{class:"col-4"},"描述"),t("th",{class:"col-1"},"建立時間"),t("th",{class:"col-1"},"是否公開"),t("th",{class:"col-1"},"編輯")],-1)),L={"data-th":"標題"},T={"data-th":"作者"},V={"data-th":"描述"},$={"data-th":"建立時間"},D={"data-th":"是否公開"},P={key:0},R={key:1},B=i(()=>t("td",{class:"btn_td","data-th":"編輯"},[t("div",null,[t("button",{class:"btn btn_edit btn-outline-neutral me-3",type:"button"},"編輯"),t("button",{class:"btn btn_delete btn-outline-primary",type:"button"},"刪除")])],-1)),C={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"articleModal"},U={class:"modal-dialog modal-xl",role:"document"},z={class:"modal-content border-0"},F={class:"modal-header bg-bg-2 text-dark-text"},H=i(()=>t("h5",{class:"modal-title",id:"exampleModalLabel"},[t("span",null,"新增貼文"),t("span",null,"編輯貼文")],-1)),N=p('<div class="modal-body" data-v-67f10a72><div class="row mx-auto" data-v-67f10a72><div class="col-sm-4" data-v-67f10a72><div class="mb-3" data-v-67f10a72><label for="title" class="form-label" data-v-67f10a72>標題</label><input type="text" class="form-control" id="title" placeholder="請輸入標題" data-v-67f10a72></div><div class="mb-3" data-v-67f10a72><label for="image" class="form-label" data-v-67f10a72>輸入圖片網址</label><input type="text" class="form-control" id="image" placeholder="請輸入圖片連結" data-v-67f10a72></div><div class="mb-3" data-v-67f10a72><label for="author" class="form-label" data-v-67f10a72>作者</label><input type="text" class="form-control" id="author" placeholder="請輸入標題" data-v-67f10a72></div><div class="mb-3" data-v-67f10a72><label for="create_at" data-v-67f10a72>文章建立日期</label><input type="date" class="form-control" id="create_at" data-v-67f10a72></div></div><div class="col-sm-8" data-v-67f10a72><div class="mb-3" data-v-67f10a72><label for="description" class="form-label" data-v-67f10a72>文章描述</label><textarea type="text" class="form-control" id="description" placeholder="請輸入文章描述" data-v-67f10a72></textarea></div><div class="mb-3" data-v-67f10a72></div><div class="mb-3" data-v-67f10a72><div class="form-check" data-v-67f10a72><input class="form-check-input" type="checkbox" id="isPublic" data-v-67f10a72><label class="form-check-label" for="isPublic" data-v-67f10a72> 是否公開 </label></div></div></div></div></div><div class="modal-footer" data-v-67f10a72><button type="button" class="btn btn_cancel btn-outline-neutral" data-bs-dismiss="modal" data-v-67f10a72> 取消 </button><button type="button" class="btn btn_confirm btn-outline-primary" data-v-67f10a72>確認</button></div>',2);function O(a,e,r,_,n,d){return o(),l("div",null,[t("div",M,[k,t("div",S,[t("button",{class:"btn btn-primary text-white",onClick:e[0]||(e[0]=(...s)=>d.openModal&&d.openModal(...s))},"新增文章")]),t("div",A,[t("div",E,[t("table",I,[w,(o(!0),l(v,null,m(n.articles,s=>(o(),l("tr",{key:s.id},[t("td",L,c(s.title),1),t("td",T,c(s.author),1),t("td",V,c(s.description),1),t("td",$,c(s.dateString),1),t("td",D,[s.isPublic?(o(),l("span",P,"已公開")):(o(),l("span",R,"未公開"))]),B]))),128))])])]),t("div",C,[t("div",U,[t("div",z,[t("div",F,[H,t("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[1]||(e[1]=(...s)=>d.closeModal&&d.closeModal(...s))})]),N])])],512)])])}const G=h(g,[["render",O],["__scopeId","data-v-67f10a72"]]);export{G as default};
