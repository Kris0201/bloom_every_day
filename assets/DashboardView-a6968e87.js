import{b as w}from"./bootstrap.bundle.min-ccc122ff.js";import{_ as u,a as x,r,o as p,c as v,d as t,e as a,w as i,f as l,p as m,g,R as T}from"./index-c62a27fd.js";import{_ as y}from"./Logo-0dea7fd1.js";import{S as _}from"./sweetalert2.all-4e1800ee.js";import{s as L}from"./setAuthFactory-2f9bf77f.js";import{_ as $,a as R}from"./logo_flower-86cc868b.js";const V={data(){return{}},components:{RouterLink:x},methods:{navToggle(){this.navContent.toggle()},closeToggle(){this.navContent.hide()},logout(){document.cookie=`loginToken=; expires=${new Date};`}},mounted(){this.navContent=new w.Collapse(this.$refs.navContent)}},h=e=>(m("data-v-d7b6865e"),e=e(),g(),e),I={class:"navbar navbar-expand-lg navbar-light"},N={class:"container-fluid d-flex"},S=h(()=>t("a",{class:"navbar-brand",href:"#"},[t("img",{src:y,alt:""})],-1)),D=h(()=>t("span",{class:"navbar-toggler-icon"},null,-1)),A=[D],E={class:"collapse navbar-collapse justify-content-end",id:"navbarNav",ref:"navContent"},B={class:"navbar-nav text-center"},F={class:"nav-item"},P={class:"nav-item"},U={class:"nav-item"},O={class:"nav-item"};function j(e,n,f,b,c,o){const s=r("RouterLink");return p(),v("nav",I,[t("div",N,[S,t("button",{class:"navbar-toggler",type:"button",onClick:n[0]||(n[0]=(...d)=>o.navToggle&&o.navToggle(...d)),"aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},A),t("div",E,[t("ul",B,[t("li",F,[a(s,{to:"/admin/articles",class:"nav-link","aria-current":"page",onClick:o.closeToggle},{default:i(()=>[l("文章")]),_:1},8,["onClick"])]),t("li",P,[a(s,{to:"/admin/products",class:"nav-link",onClick:o.closeToggle},{default:i(()=>[l("商品")]),_:1},8,["onClick"])]),t("li",U,[a(s,{to:"/admin/orders",class:"nav-link",onClick:o.closeToggle},{default:i(()=>[l("訂單")]),_:1},8,["onClick"])]),t("li",O,[a(s,{to:"/",class:"nav-link",onClick:o.logout},{default:i(()=>[l("登出")]),_:1},8,["onClick"])])])],512)])])}const H=u(V,[["render",j],["__scopeId","data-v-d7b6865e"]]);const{VITE_URL:M}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},q={data(){return{isLoading:!1,fullPage:!0}},components:{AdminNav:H,RouterView:T},methods:{checkLogin(){this.$http.post(`${M}v2/api/user/check`).then(()=>{_.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:'<h6 class="mb-0" style="color:#FF3D33; text-align:center;">登入成功，管理員你好！</h6>'})}).catch(()=>{this.isLoading=!0,setTimeout(()=>{_.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:'<h6 class="mb-0" style="color:white; text-align:center;">驗證錯誤，請重新登入！</h6>',background:"#FF3D33"}),this.isLoading=!1,this.$router.push("/login")},2e3)})}},mounted(){L(this.$http,this.$router),this.checkLogin()}},z=e=>(m("data-v-b16c15da"),e=e(),g(),e),G={class:"admin_layout"},J={id:"admin_header",class:"container"},K=z(()=>t("div",{class:"loading_brand"},[t("img",{src:$,alt:""}),t("div",{class:"loading_flower"},[t("img",{src:R,alt:""})])],-1));function Q(e,n,f,b,c,o){const s=r("AdminNav"),d=r("RouterView"),k=r("vue-loading");return p(),v("div",G,[t("div",J,[a(s)]),t("div",null,[a(d)]),a(k,{active:c.isLoading,"onUpdate:active":n[0]||(n[0]=C=>c.isLoading=C),"is-full-page":c.fullPage,opacity:1},{default:i(()=>[K]),_:1},8,["active","is-full-page"])])}const ot=u(q,[["render",Q],["__scopeId","data-v-b16c15da"]]);export{ot as default};
