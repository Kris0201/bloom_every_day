import{_ as f,o as l,c as _,d as e,n as p,B as n,F as h,y,t as d,p as k,g as P,a as x,r as g,e as u,w as m,z as L}from"./index-54336062.js";import{_ as V,a as w}from"./logo_flower-86cc868b.js";const E={props:["pages"],emits:["change-page"],data(){return{}}},C=s=>(k("data-v-1150e341"),s=s(),P(),s),I={"aria-label":"Page navigation example",class:"nav_block"},R={class:"pagination justify-content-center"},S=C(()=>e("span",{"aria-hidden":"true"},"«",-1)),T=[S],N=["onClick"],B=C(()=>e("span",{"aria-hidden":"true"},"»",-1)),U=[B];function D(s,t,o,$,c,r){return l(),_("nav",I,[e("ul",R,[e("li",{class:p(["page-item",{disabled:!o.pages.has_pre}])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=n(i=>s.$emit("change-page",o.pages.current_page-1),["prevent"]))},T)],2),(l(!0),_(h,null,y(o.pages.total_pages,i=>(l(),_("li",{class:p(["page-item",{active:i===o.pages.current_page}]),key:i+"page"},[e("a",{class:"page-link",href:"#",onClick:n(v=>s.$emit("change-page",i),["prevent"])},d(i),9,N)],2))),128)),e("li",{class:p(["page-item",{disabled:!o.pages.has_next}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=n(i=>s.$emit("change-page",o.pages.current_page+1),["prevent"]))},U)],2)])])}const A=f(E,[["render",D],["__scopeId","data-v-1150e341"]]),j="/bloom_every_day/assets/products_banner-febc812a.jpg";const{VITE_URL:q,VITE_PATH:z}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},F={data(){return{products:[],page:{},currentCategory:"all",isLoading:!1,fullPage:!0}},components:{RouterLink:x,Pagination:A},methods:{getProducts(s=1){this.isLoading=!0;const t=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$http.get(`${q}v2/api/${z}/products/?page=${s}&${t}`).then(o=>{this.products=o.data.products,this.page=o.data.pagination,this.isLoading=!1,this.$router.push({query:{page:this.page.current_page,category:this.currentCategory}})}).catch(o=>{console.log(o)})},filterCategory(s){this.currentCategory=s,this.getProducts()}},mounted(){this.getProducts();const s=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$router.push({query:{page:1,category:s}})}},H={class:"products_wrapper"},M=L('<div class="products_banner"><div class="products_banner_position"><div class="img_group"><img src="'+j+'" alt=""><div class="img_cover"></div></div><div class="banner_text"><h2 class="text-primary banner_h2_pc">走進有花的日子裡</h2><h3 class="text-primary banner_h3_mobile">走進有花的日子裡</h3></div></div></div>',1),O=e("div",{class:"loading_brand"},[e("img",{src:V,alt:""}),e("div",{class:"loading_flower"},[e("img",{src:w,alt:""})])],-1),G={class:"container"},J={class:"products_menu"},K={class:"products_menu_list"},Q={class:"products_group"},W={class:"row mx-auto"},X={class:"products_card_head"},Y={class:"head_img"},Z=["src"],ee={class:"products_card_body"},te={class:"product_title"},se={class:"badge_group"},ae={class:"badge_item text-primary"},oe={class:"price_group"},ie={class:"product_origin_price"},ne={class:"product_price text-primary"};function re(s,t,o,$,c,r){const i=g("vue-loading"),v=g("RouterLink"),b=g("Pagination");return l(),_(h,null,[e("div",H,[M,u(i,{active:c.isLoading,"onUpdate:active":t[0]||(t[0]=a=>c.isLoading=a),"is-full-page":c.fullPage,opacity:1},{default:m(()=>[O]),_:1},8,["active","is-full-page"]),e("div",G,[e("div",J,[e("ul",K,[e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[1]||(t[1]=n(a=>r.filterCategory("all"),["prevent"]))},"所有商品")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[2]||(t[2]=n(a=>r.filterCategory("小型花束"),["prevent"]))},"小型花束")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[3]||(t[3]=n(a=>r.filterCategory("季節花束"),["prevent"]))},"季節花束")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[4]||(t[4]=n(a=>r.filterCategory("經典花束"),["prevent"]))},"經典花束")]),e("li",null,[e("a",{href:"",class:"products_menu_item fs-6",onClick:t[5]||(t[5]=n(a=>r.filterCategory("好日特選"),["prevent"]))},"好日特選")])])]),e("div",Q,[e("div",W,[(l(!0),_(h,null,y(c.products,a=>(l(),_("div",{class:"col-md-6 col-lg-4",key:a.id},[u(v,{to:`/products/${a.id}`,class:"products_card"},{default:m(()=>[e("div",X,[e("div",Y,[e("img",{class:"img_hover",src:a.imageUrl,alt:""},null,8,Z)])]),e("div",ee,[e("h5",te,d(a.title),1),e("div",se,[e("h6",ae,d(a.category),1)]),e("div",oe,[e("h6",ie,"NT $"+d(a.origin_price),1),e("h6",ne,"NT $"+d(a.price),1)])])]),_:2},1032,["to"])]))),128))])])])]),u(b,{pages:c.page,onChangePage:r.getProducts},null,8,["pages","onChangePage"])],64)}const _e=f(F,[["render",re]]);export{_e as default};
