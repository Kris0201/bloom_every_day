import{S as h}from"./sweetalert2.all-f7397e70.js";import{_ as f,G as g,H as b,I as w,r as n,o as v,c as V,d as e,e as t,w as y,n as _,p as x,g as E}from"./index-782f2019.js";import{_ as F}from"./Logo-0dea7fd1.js";const{VITE_URL:S}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"bloom-api",BASE_URL:"/bloom_every_day/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},k={data(){return{user:{username:"",password:""}}},components:{VForm:g,VField:b,ErrorMessage:w},methods:{login(){this.$http.post(`${S}v2/admin/signin`,this.user).then(s=>{console.log("login",s);const{expired:o,token:i}=s.data;document.cookie=`loginToken=${i}; expires=${new Date(o)};`,this.$router.push("/admin")}).catch(s=>{const o=s.response.data.message;h.fire({toast:!0,position:"center",showConfirmButton:!1,timer:2e3,title:`<h6 class="mb-0" style="color:white;">${o}，請檢查帳號密碼是否正確</h6>`,background:"#FF3D33"})})}},mounted(){}},a=s=>(x("data-v-44d0efdb"),s=s(),E(),s),I={class:"login_wrapper"},B={class:"login container"},D={class:"row mx-auto"},L={class:"col-md-8 mx-auto"},M=a(()=>e("div",{class:"login_logo"},[e("img",{src:F,alt:"",class:"logo_img"})],-1)),R=a(()=>e("h5",{class:"login_h5 text-center mt-4"},"後台管理系統",-1)),T={class:"form-group"},U=a(()=>e("label",{for:"email",class:"form-label label_style"},"登入信箱",-1)),$={class:"form-group"},C=a(()=>e("label",{for:"password",class:"form-label label_style"},"登入密碼",-1)),q=a(()=>e("div",{class:"py-3"},[e("button",{type:"submit",class:"btn btn-primary login_btn col-12",style:{color:"white"}}," 送出 ")],-1));function A(s,o,i,H,l,p){const d=n("VField"),c=n("ErrorMessage"),u=n("VForm");return v(),V("div",I,[e("div",B,[e("div",D,[e("div",L,[M,R,t(u,{class:"login_form",onSubmit:p.login},{default:y(({errors:m})=>[e("div",T,[U,t(d,{id:"email",name:"email",type:"text",class:_(["form-control",{"is-invalid":m.email}]),placeholder:"請輸入信箱",rules:"required",modelValue:l.user.username,"onUpdate:modelValue":o[0]||(o[0]=r=>l.user.username=r)},null,8,["class","modelValue"]),t(c,{name:"email",class:"invalid_feedback"})]),e("div",$,[C,t(d,{id:"password",name:"password",type:"password",class:_(["form-control",{"is-invalid":m.password}]),placeholder:"請輸入密碼",rules:"required",modelValue:l.user.password,"onUpdate:modelValue":o[1]||(o[1]=r=>l.user.password=r)},null,8,["class","modelValue"]),t(c,{name:"password",class:"invalid_feedback"})]),q]),_:1},8,["onSubmit"])])])])])}const z=f(k,[["render",A],["__scopeId","data-v-44d0efdb"]]);export{z as default};
